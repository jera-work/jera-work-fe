<!-- buat hr -->
<div class="flex mx-7 p-3 justify-content-center">
<div class="grid mt-1">
    <div class="col-12">
        <h2>Vacancy Detail</h2>
    </div>
    <div class="md:col-12 col-12">
        <div class="grid">
            <div class="md:col-3 col-4">Degree</div>
            <div class="md:col-1 col-8">:</div>
            <div class="md:col-8 col-12">{{jobVacancy.degreeName}}</div>
        </div>
    </div>
    <div class="md:col-12 col-12">
        <div class="grid">
            <div class="md:col-3 col-4">Job Type</div>
            <div class="md:col-1 col-8">:</div>
            <div class="md:col-8 col-12">{{jobVacancy.jobTypeName}}</div>
        </div>
    </div>
    <div class="md:col-12 col-12">
        <div class="grid">
            <div class="md:col-3 col-4">Salary</div>
            <div class="md:col-1 col-8">:</div>
            <div class="md:col-8 col-12">{{jobVacancy.salary}}</div>
        </div>
    </div>
    <div class="md:col-12 col-12">
        <div class="grid">
            <div class="md:col-3 col-4">City</div>
            <div class="md:col-1 col-8">:</div>
            <div class="md:col-8 col-12">{{jobVacancy.cityName}}</div>
        </div>
    </div>
    <div class="md:col-12 col-12">
        <div class="grid">
            <div class="md:col-3 col-4">Address</div>
            <div class="md:col-1 col-8">:</div>
            <div class="md:col-8 col-12">{{jobVacancy.address}}</div>
        </div>
    </div>
    <div class="md:col-12 col-12">
        <div class="grid">
            <div class="md:col-3 col-4">Description</div>
            <div class="md:col-1 col-8">:</div>
            <div class="md:col-8 col-12">{{jobVacancy.description}}</div>
        </div>
    </div>
</div>

</div>

<p-table 
    #dt1
    [value]="appliedVacancies"
    dataKey="id"
    [rows]="5"
    [showCurrentPageReport]="true"
    [rowsPerPageOptions]="[10, 25, 50]"
    [paginator]="true"
    [loading]="loading"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [globalFilterFields]="['candidateName', 'candidateEmail', 'statusName', 'progressName']"
    selectionMode="single" 
    [tableStyle]="{ 'min-width': '50rem' }" 
    styleClass="p-datatable-gridlines p-datatable-striped mx-7 mt-5"
>
    <ng-template pTemplate="caption">
        <div class="flex flex-column md:flex-row md:align-items-center">
            <h2>Applied Vacancy List</h2>
            <div class="p-input-icon-left m-0 md:ml-auto flex mt-3 md:mt-0">
                <i class="pi pi-search"></i>
                <input class="w-full" pInputText type="text" (input)="dt1.filterGlobal($any($event.target).value, 'contains')" placeholder="Search"/>
            </div>
        </div>
    </ng-template>
    
    <ng-template pTemplate="header">
          <tr>
              <th scope="col" class="md:col-1">No.</th>
              <th scope="col" class="md:col-4">
                <div class="flex align-items-center">
                    Candidate Name
                    <p-columnFilter type="text" field="candidateName" display="menu"></p-columnFilter>
                </div>
              </th>
              <th scope="col" class="md:col-4">
                <div class="flex align-items-center">
                    Candidate Email
                    <p-columnFilter type="text" field="candidateEmail" display="menu"></p-columnFilter>
                </div>
              </th>
              <th scope="col" class="md:col-1">
                <div class="flex align-items-center">
                    Status
                    <p-columnFilter type="text" field="statusName" display="menu"></p-columnFilter>
                </div>
              </th>
              <th scope="col" class="md:col-4">
                <div class="flex align-items-center">
                    Progress
                    <p-columnFilter type="text" field="progressName" display="menu"></p-columnFilter>
                </div>
              </th>
          </tr>
    </ng-template>
    <ng-template pTemplate="body" let-appliedVacancy let-i="rowIndex">
        <tr routerLink="applied/{{i+1}}" style="cursor: pointer;">
            <td>{{i+1}}</td>
            <td>{{appliedVacancy.candidateName}}</td>
            <td>{{appliedVacancy.candidateEmail}}</td>
            <td>
                <p-tag [value]="appliedVacancy.statusName" [severity]="getStatusSeverity(appliedVacancy.statusName)"></p-tag>
            </td>
            <td>
                {{appliedVacancy.progressName}}</td>
        </tr>
    </ng-template>
</p-table>

